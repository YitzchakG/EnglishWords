<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>××©×—×§ ×”××™×œ×™×</title>
  <link rel="manifest" href="manifest.json">
  <style>
    body {
  font-size: 4.5vw;
  line-height: 2;
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #e3f2fd, #bbdefb);
  direction: rtl;
  font-family: 'Assistant', sans-serif;
  text-align: center;
}
    #game, #startScreen, #endScreen {
      width: 100vw;
      height: 100vh;
      padding: 0 5vw;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 4vh;
    }
    .word {
      font-size: 2.5em;
      font-weight: bold;
      color: #0d47a1;
    }
    .options button,
    #startScreen button,
    #endScreen button {
      margin: 10px;
      padding: 15px 30px;
      font-size: 1.5em;
      border: none;
      border-radius: 8px;
      background-color: #007BFF;
      color: white;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    .options button:hover,
    #startScreen button:hover,
    #endScreen button:hover {
      background-color: #0056b3;
    }
    .correct {
      background-color: #4CAF50 !important;
      color: white;
      animation: pulse-green 0.6s ease;
    }
    .wrong {
      background-color: #f44336 !important;
      color: white;
      animation: shake-red 0.4s ease;
    }
    @keyframes pulse-green {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    @keyframes shake-red {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
    }
  .mode-option {
  display: inline-block;
  position: relative;
  margin: 10px;
  font-size: 1.5em;
  background: #fff;
  border: 2px solid #444;
  border-radius: 12px;
  padding: 15px 25px;
  cursor: pointer;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}
.mode-option input[type="radio"]:checked + span {
  font-weight: bold;
  color: #007BFF;
  background-color: #e0f0ff;
  border: 2px solid #007BFF;
  border-radius: 8px;
  padding: 10px 20px;
  display: inline-block;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.3);
}
.mode-option input[type="radio"] {
  opacity: 0;
  position: absolute;
  width: 0;
  height: 0;
}
.mode-option span {
  pointer-events: auto;
  user-select: none;
  display: inline-block;
  padding: 10px 20px;
  transition: background-color 0.3s ease, color 0.3s ease;
}
.mode-option input {
  margin-left: 10px;
  transform: scale(1.5);
}
.mode-option:hover {
  background-color: #f0f8ff;
  border-color: #007BFF;
}
</style>
</head>
<body>
<div id="startScreen">
  <h1>××©×—×§ ×ª×¨×’×•× ××™×œ×™×</h1>
  <label>×©× ×©×—×§×Ÿ (×œ× ×—×•×‘×”):</label><br>
  <input id="playerName" type="text" maxlength="20" placeholder="×œ××©×œ: × ×‘×•" style="font-size: 2em; padding: 10px 20px; border-radius: 10px;"><br><br>

  <label class="mode-option">
  <input type="radio" name="mode" value="random" checked><span>ğŸ² ×”×’×¨×œ ××™×œ×™×</span>
</label>
  <label class="mode-option">
  <input type="radio" name="mode" value="custom"><span>âœï¸ ××™×œ×™× ×œ×”×›×ª×‘×”</span>
</label><br><br>

  <div id="customInput" style="display:none;">
    <label>×©× ×œ×”×›×ª×‘×” (×œ×©×™××•×© ×—×•×–×¨):</label><br>
    <input type="text" id="customSetName" maxlength="30" style="font-size:1.2em;"><br><br>
    <label>××• ×‘×—×¨ ×©× ××”×©××œ×•×ª ×”×©××•×¨×•×ª:</label><br>
    <select id="savedSets" style="font-size:1.2em;"></select>
    <button onclick="loadSavedSet()">×˜×¢×Ÿ</button>
    <button onclick="deleteSavedSet()" style="background:#f44336; color:white; margin-right:10px;">ğŸ—‘ï¸ ××—×§</button><br><br>
    <label>×›××” ×–×•×’×•×ª ××™×œ×™× ×ª×¨×¦×” ×œ×”×–×™×Ÿ?</label><br>
    <input type="number" id="customCount" min="1" max="50" style="font-size:1.5em; width:80px;"><br>
    <button onclick="generateCustomTable()">×¦×•×¨ ×˜×‘×œ×”</button>
    <div id="customTable"></div>
  </div><br>

  <label for="direction">×‘×—×¨ ×›×™×•×•×Ÿ ×ª×¨×’×•×:</label><br>
  <select id="direction" style="font-size: 2em; padding: 10px 20px; border-radius: 10px;">
    <option value="en2he">×× ×’×œ×™×ª ×œ×¢×‘×¨×™×ª</option>
    <option value="he2en">×¢×‘×¨×™×ª ×œ×× ×’×œ×™×ª</option>
  </select><br><br>

  <button id="startBtn">×”×ª×—×œ ××©×—×§</button>
</div>
<div id="game" style="display:none;">
  <div id="progress"></div>
  <div class="word" id="quizWord"></div>
  <div class="options" id="options"></div>
  <div id="result"></div>
</div>
<div id="endScreen" style="display:none;"></div>
<audio id="sound-correct" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/02/15/audio_94b4a2b6c1.mp3?filename=correct-6033.mp3" type="audio/mpeg">
</audio>
<audio id="sound-wrong" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c43b3b5b63.mp3?filename=error-2-123105.mp3" type="audio/mpeg">
</audio>
<audio id="sound-happy" src="https://cdn.pixabay.com/download/audio/2022/02/28/audio_594ca25b24.mp3?filename=success-fanfare-trumpets-6185.mp3"></audio>
<audio id="sound-very-happy" src="https://cdn.pixabay.com/download/audio/2022/03/03/audio_0317023917.mp3?filename=kids-cheering-01-121103.mp3"></audio>
<script>
let allWords = [
  { en: 'I', he: '×× ×™' },
  { en: 'you', he: '××ª×”/××ª' },
  { en: 'he', he: '×”×•×' },
  { en: 'she', he: '×”×™×' },
  { en: 'it', he: '×–×”/×–××ª' },
  { en: 'we', he: '×× ×—× ×•' },
  { en: 'they', he: '×”×/×”×Ÿ' },
  { en: 'me', he: '××•×ª×™' },
  { en: 'him', he: '××•×ª×•' },
  { en: 'her', he: '××•×ª×”' },
  { en: 'us', he: '××•×ª× ×•' },
  { en: 'them', he: '××•×ª×/××•×ª×Ÿ' },
  { en: 'be', he: '×œ×”×™×•×ª' },
  { en: 'have', he: '×™×©/×œ' },
  { en: 'do', he: '×œ×¢×©×•×ª' },
  { en: 'go', he: '×œ×œ×›×ª' },
  { en: 'come', he: '×œ×‘×•×' },
  { en: 'see', he: '×œ×¨××•×ª' },
  { en: 'look', he: '×œ×”×¡×ª×›×œ' },
  { en: 'say', he: '×œ×•××¨' },
  { en: 'tell', he: '×œ×¡×¤×¨' },
  { en: 'ask', he: '×œ×©××•×œ' },
  { en: 'know', he: '×œ×“×¢×ª' },
  { en: 'think', he: '×œ×—×©×•×‘' },
  { en: 'want', he: '×œ×¨×¦×•×ª' },
  { en: 'like', he: '×œ××”×•×‘' },
  { en: 'need', he: '×œ×”×¦×˜×¨×š' },
  { en: 'work', he: '×œ×¢×‘×•×“' },
  { en: 'live', he: '×œ×—×™×•×ª' },
  { en: 'give', he: '×œ×ª×ª' },
  { en: 'take', he: '×œ×§×—×ª' },
  { en: 'make', he: '×œ×¢×©×•×ª' },
  { en: 'man', he: '××™×©' },
  { en: 'woman', he: '××™×©×”' },
  { en: 'boy', he: '×™×œ×“' },
  { en: 'girl', he: '×™×œ×“×”' },
  { en: 'people', he: '×× ×©×™×' },
  { en: 'friend', he: '×—×‘×¨' },
  { en: 'mother', he: '×××' },
  { en: 'father', he: '××‘×' },
  { en: 'family', he: '××©×¤×—×”' },
  { en: 'home', he: '×‘×™×ª' },
  { en: 'house', he: '×‘×™×ª' },
  { en: 'school', he: '×‘×™×ª' },
  { en: 'teacher', he: '××•×¨×”' },
  { en: 'day', he: '×™×•×' },
  { en: 'night', he: '×œ×™×œ×”' },
  { en: 'time', he: '×–××Ÿ' },
  { en: 'year', he: '×©× ×”' },
  { en: 'world', he: '×¢×•×œ×' },
  { en: 'big', he: '×’×“×•×œ' },
  { en: 'small', he: '×§×˜×Ÿ' },
  { en: 'good', he: '×˜×•×‘' },
  { en: 'bad', he: '×¨×¢' },
  { en: 'happy', he: '×©××—' },
  { en: 'sad', he: '×¢×¦×•×‘' },
  { en: 'hot', he: '×—×' },
  { en: 'cold', he: '×§×¨' },
  { en: 'new', he: '×—×“×©' },
  { en: 'old', he: '×™×©×Ÿ' },
  { en: 'fast', he: '××”×™×¨' },
  { en: 'slow', he: '××™×˜×™' },
  { en: 'young', he: '×¦×¢×™×¨' },
  { en: 'old', he: '×–×§×Ÿ' },
  { en: 'one', he: '××—×“' },
  { en: 'two', he: '×©× ×™×™×' },
  { en: 'three', he: '×©×œ×•×©×”' },
  { en: 'four', he: '××¨×‘×¢×”' },
  { en: 'five', he: '×—××™×©×”' },
  { en: 'six', he: '×©×™×©×”' },
  { en: 'seven', he: '×©×‘×¢×”' },
  { en: 'eight', he: '×©××•× ×”' },
  { en: 'nine', he: '×ª×©×¢×”' },
  { en: 'ten', he: '×¢×©×¨×”' },
  { en: 'in', he: '×‘' },
  { en: 'on', he: '×¢×œ' },
  { en: 'at', he: '×‘' },
  { en: 'to', he: '×œ' },
  { en: 'from', he: '×' },
  { en: 'with', he: '×¢×' },
  { en: 'and', he: '×•' },
  { en: 'but', he: '××‘×œ' },
  { en: 'or', he: '××•' },
  { en: 'what', he: '××”' },
  { en: 'where', he: '××™×¤×”' },
  { en: 'when', he: '××ª×™' },
  { en: 'who', he: '××™' },
  { en: 'why', he: '×œ××”' },
  { en: 'how', he: '××™×š' },
  { en: 'eat', he: '×œ××›×•×œ' },
  { en: 'drink', he: '×œ×©×ª×•×ª' },
  { en: 'sleep', he: '×œ×™×©×•×Ÿ' },
  { en: 'walk', he: '×œ×œ×›×ª' },
  { en: 'run', he: '×œ×¨×•×¥' },
  { en: 'jump', he: '×œ×§×¤×•×¥' },
  { en: 'play', he: '×œ×©×—×§' },
  { en: 'read', he: '×œ×§×¨×•×' },
  { en: 'write', he: '×œ×›×ª×•×‘' },
  { en: 'listen', he: '×œ×”×§×©×™×‘' },
  { en: 'speak', he: '×œ×“×‘×¨' },
  { en: 'call', he: '×œ×§×¨×•×' },
  { en: 'help', he: '×œ×¢×–×•×¨' },
  { en: 'learn', he: '×œ×œ××•×“' },
  { en: 'try', he: '×œ× ×¡×•×ª' },
  { en: 'buy', he: '×œ×§× ×•×ª' },
  { en: 'sell', he: '×œ××›×•×¨' },
  { en: 'open', he: '×œ×¤×ª×•×—' },
  { en: 'close', he: '×œ×¡×’×•×¨' },
  { en: 'start', he: '×œ×”×ª×—×™×œ' },
  { en: 'stop', he: '×œ×¢×¦×•×¨' },
  { en: 'water', he: '××™×' },
  { en: 'food', he: '××•×›×œ' },
  { en: 'bread', he: '×œ×—×' },
  { en: 'milk', he: '×—×œ×‘' },
  { en: 'apple', he: '×ª×¤×•×—' },
  { en: 'book', he: '×¡×¤×¨' },
  { en: 'pen', he: '×¢×˜' },
  { en: 'paper', he: '× ×™×™×¨' },
  { en: 'table', he: '×©×•×œ×—×Ÿ' },
  { en: 'chair', he: '×›×™×¡×' },
  { en: 'door', he: '×“×œ×ª' },
  { en: 'window', he: '×—×œ×•×Ÿ' },
  { en: 'bed', he: '××™×˜×”' },
  { en: 'car', he: '××›×•× ×™×ª' },
  { en: 'bus', he: '××•×˜×•×‘×•×¡' },
  { en: 'road', he: '×›×‘×™×©' },
  { en: 'street', he: '×¨×—×•×‘' },
  { en: 'park', he: '×¤××¨×§' },
  { en: 'shop', he: '×—× ×•×ª' },
  { en: 'store', he: '×—× ×•×ª' },
  { en: 'baby', he: '×ª×™× ×•×§' },
  { en: 'child', he: '×™×œ×“' },
  { en: 'doctor', he: '×¨×•×¤×' },
  { en: 'student', he: '×¡×˜×•×“× ×˜' },
  { en: 'worker', he: '×¢×•×‘×“' },
  { en: 'school', he: '×‘×™×ª ×¡×¤×¨' },
  { en: 'hospital', he: '×‘×™×ª ×—×•×œ×™×' },
  { en: 'bank', he: '×‘× ×§' },
  { en: 'restaurant', he: '××¡×¢×“×”' },
  { en: 'airport', he: '×©×“×”' },
  { en: 'office', he: '××©×¨×“' },
  { en: 'city', he: '×¢×™×¨' },
  { en: 'village', he: '×›×¤×¨' },
  { en: 'country', he: '××“×™× ×”' },
  { en: 'beach', he: '×—×•×£' },
  { en: 'easy', he: '×§×œ' },
  { en: 'difficult', he: '××•×¨×›×‘' },
  { en: 'hard', he: '×§×©×”' },
  { en: 'soft', he: '×¨×š' },
  { en: 'strong', he: '×—×–×§' },
  { en: 'weak', he: '×—×œ×©' },
  { en: 'clean', he: '× ×§×™' },
  { en: 'dirty', he: '××œ×•×›×œ×š' },
  { en: 'tall', he: '×’×‘×•×”' },
  { en: 'short', he: '×§×¦×¨' },
  { en: 'full', he: '××œ×' },
  { en: 'empty', he: '×¨×™×§' },
  { en: 'rich', he: '×¢×©×™×¨' },
  { en: 'poor', he: '×¢× ×™' },
  { en: 'warm', he: '×—×' },
  { en: 'cool', he: '×§×¨×™×¨' },
  { en: 'today', he: '×”×™×•×' },
  { en: 'tomorrow', he: '××—×¨' },
  { en: 'yesterday', he: '××ª××•×œ' },
  { en: 'morning', he: '×‘×•×§×¨' },
  { en: 'afternoon', he: '××—×¨' },
  { en: 'evening', he: '×¢×¨×‘' },
  { en: 'night', he: '×œ×™×œ×”' },
  { en: 'soon', he: '×‘×§×¨×•×‘' },
  { en: 'later', he: '×××•×—×¨ ×™×•×ª×¨' },
  { en: 'now', he: '×¢×›×©×™×•' },
  { en: 'before', he: '×œ×¤× ×™' },
  { en: 'after', he: '××—×¨×™' },
  { en: 'tired', he: '×¢×™×™×£' },
  { en: 'hungry', he: '×¨×¢×‘' },
  { en: 'thirsty', he: '×¦××' },
  { en: 'sick', he: '×—×•×œ×”' },
  { en: 'fine', he: '×‘×¡×“×¨' },
  { en: 'great', he: '× ×”×“×¨' },
  { en: 'beautiful', he: '×™×¤×”' },
  { en: 'ugly', he: '××›×•×¢×¨' },
  { en: 'nice', he: '× ×—××“' },
  { en: 'angry', he: '×›×•×¢×¡' },
  { en: 'scared', he: '××¤×•×—×“' },
  { en: 'excited', he: '× ×¨×’×©' },
  { en: 'bored', he: '××©×•×¢××' },
  { en: 'phone', he: '×˜×œ×¤×•×Ÿ' },
  { en: 'computer', he: '××—×©×‘' },
  { en: 'television', he: '×˜×œ×•×•×™×–×™×”' },
  { en: 'key', he: '××¤×ª×—' },
  { en: 'bag', he: '×ª×™×§' },
  { en: 'money', he: '×›×¡×£' },
  { en: 'coin', he: '××˜×‘×¢' },
  { en: 'gift', he: '××ª× ×”' },
  { en: 'card', he: '×›×¨×˜×™×¡' },
  { en: 'letter', he: '××›×ª×‘' },
  { en: 'picture', he: '×ª××•× ×”' },
  { en: 'mirror', he: '××¨××”' },
  { en: 'wall', he: '×§×™×¨' },
  { en: 'floor', he: '×¨×¦×¤×”' },
  { en: 'ceiling', he: '×ª×§×¨×”' },
  { en: 'clean', he: '×œ× ×§×•×ª' },
  { en: 'wash', he: '×œ×©×˜×•×£' },
  { en: 'cook', he: '×œ×‘×©×œ' },
  { en: 'drive', he: '×œ× ×”×•×’' },
  { en: 'wait', he: '×œ×—×›×•×ª' },
  { en: 'use', he: '×œ×”×©×ª××©' },
  { en: 'find', he: '×œ××¦×•×' },
  { en: 'lose', he: '×œ××‘×“' },
  { en: 'show', he: '×œ×”×¨××•×ª' },
  { en: 'think', he: '×œ×—×©×•×‘' },
  { en: 'feel', he: '×œ×”×¨×’×™×©' },
  { en: 'remember', he: '×œ×–×›×•×¨' },
  { en: 'forget', he: '×œ×©×›×•×—' },
  { en: 'believe', he: '×œ×”×××™×Ÿ' },
  { en: 'enjoy', he: '×œ×™×”× ×•×ª' },
  { en: 'sing', he: '×œ×©×™×¨' },
  { en: 'dance', he: '×œ×¨×§×•×“' },
  { en: 'sit', he: '×œ×©×‘×ª' },
  { en: 'stand', he: '×œ×¢××•×“' },
  { en: 'turn', he: '×œ×¤× ×•×ª' },
  { en: 'left', he: '×©×××œ' },
  { en: 'right', he: '×™××™×Ÿ' },
  { en: 'up', he: '×œ××¢×œ×”' },
  { en: 'down', he: '×œ××˜×”' },
  { en: 'inside', he: '×‘×¤× ×™×' },
  { en: 'outside', he: '×‘×—×•×¥' },
  { en: 'front', he: '×§×“×™××”' },
  { en: 'back', he: '××—×•×¨×”' },
  { en: 'near', he: '×§×¨×•×‘' },
  { en: 'far', he: '×¨×—×•×§' },
  { en: 'here', he: '×›××Ÿ' },
  { en: 'there', he: '×©×' },
  { en: 'everywhere', he: '×‘×›×œ ××§×•×' },
  { en: 'nowhere', he: '×©×•× ××§×•×' },
  { en: 'corner', he: '×¤×™× ×”' },
  { en: 'center', he: '××¨×›×–' },
  { en: 'sun', he: '×©××©' },
  { en: 'moon', he: '×™×¨×—' },
  { en: 'star', he: '×›×•×›×‘' },
  { en: 'cloud', he: '×¢× ×Ÿ' },
  { en: 'rain', he: '×’×©×' },
  { en: 'snow', he: '×©×œ×’' },
  { en: 'wind', he: '×¨×•×—' },
  { en: 'sky', he: '×©××™×™×' },
  { en: 'tree', he: '×¢×¥' },
  { en: 'flower', he: '×¤×¨×—' },
  { en: 'grass', he: '×“×©×' },
  { en: 'river', he: '× ×”×¨' },
  { en: 'sea', he: '×™×' },
  { en: 'mountain', he: '×”×¨' },
  { en: 'forest', he: '×™×¢×¨' },
  { en: 'expensive', he: '×™×§×¨' },
  { en: 'cheap', he: '×–×•×œ' },
  { en: 'expensive', he: '×™×§×¨' },
  { en: 'cheap', he: '×–×•×œ' },
  { en: 'important', he: '×—×©×•×‘' },
  { en: 'interesting', he: '××¢× ×™×™×Ÿ' },
  { en: 'famous', he: '××¤×•×¨×¡×' },
  { en: 'necessary', he: '×”×›×¨×—×™' },
  { en: 'possible', he: '××¤×©×¨×™' },
  { en: 'impossible', he: '×‘×œ×ª×™ ××¤×©×¨×™' },
  { en: 'dangerous', he: '××¡×•×›×Ÿ' },
  { en: 'safe', he: '×‘×˜×•×—' },
  { en: 'loud', he: '×¨×•×¢×©' },
  { en: 'quiet', he: '×©×§×˜' },
  { en: 'lucky', he: '×‘×¨ ××–×œ' },
  { en: 'unlucky', he: '×—×¡×¨' },
  { en: 'head', he: '×¨××©' },
  { en: 'face', he: '×¤× ×™×' },
  { en: 'eyes', he: '×¢×™× ×™×™×' },
  { en: 'nose', he: '××£' },
  { en: 'mouth', he: '×¤×”' },
  { en: 'ears', he: '××•×–× ×™×™×' },
  { en: 'hands', he: '×™×“×™×™×' },
  { en: 'fingers', he: '××¦×‘×¢×•×ª' },
  { en: 'arms', he: '×–×¨×•×¢×•×ª' },
  { en: 'legs', he: '×¨×’×œ×™×™×' },
  { en: 'feet', he: '×›×¤×•×ª ×¨×’×œ×™×™×' },
  { en: 'hair', he: '×©×™×¢×¨' },
  { en: 'heart', he: '×œ×‘' },
  { en: 'skin', he: '×¢×•×¨' },
  { en: 'stomach', he: '×‘×˜×Ÿ' },
  { en: 'train', he: '×¨×›×‘×ª' },
  { en: 'airplane', he: '××˜×•×¡' },
  { en: 'boat', he: '×¡×™×¨×”' },
  { en: 'farm', he: '×—×•×•×”' },
  { en: 'market', he: '×©×•×§' },
  { en: 'museum', he: '××•×–×™××•×Ÿ' },
  { en: 'hotel', he: '××œ×•×Ÿ' },
  { en: 'bridge', he: '×’×©×¨' },
  { en: 'castle', he: '×˜×™×¨×”' },
  { en: 'tower', he: '××’×“×œ' },
  { en: 'library', he: '×¡×¤×¨×™×™×”' },
  { en: 'theater', he: '×ª×™××˜×¨×•×Ÿ' }, 
  { en: 'stadium', he: '××¦×˜×“×™×•×Ÿ' }, 
  { en: 'hello', he: '×©×œ×•×' },
  { en: 'goodbye', he: '×œ×”×ª×¨××•×ª' }, 
  { en: 'please', he: '×‘×‘×§×©×”' },
  { en: 'thank you', he: '×ª×•×“×”' },
  { en: 'sorry', he: '×¡×œ×™×—×”' },
  { en: 'yes', he: '×›×Ÿ' },
  { en: 'no', he: '×œ×' },
  { en: 'maybe', he: '××•×œ×™' },
  { en: 'sure', he: '×‘×˜×—' },
  { en: 'of course', he: '×›××•×‘×Ÿ' },
  { en: 'really', he: '×‘×××ª' },
  { en: 'probably', he: '×›× ×¨××”' },
  { en: 'answer', he: '×œ×¢× ×•×ª' },
  { en: 'ask', he: '×œ×©××•×œ' },
  { en: 'borrow', he: '×œ×œ×•×•×ª' },
  { en: 'lend', he: '×œ×”×œ×•×•×ª' },
  { en: 'tell', he: '×œ×¡×¤×¨' },
  { en: 'explain', he: '×œ×”×¡×‘×™×¨' },
  { en: 'discuss', he: '×œ×“×•×Ÿ' },
  { en: 'agree', he: '×œ×”×¡×›×™×' },
  { en: 'disagree', he: '×œ× ××¡×›×™×' },
  { en: 'invite', he: '×œ×”×–××™×Ÿ' },
  { en: 'accept', he: '×œ×§×‘×œ' },
  { en: 'refuse', he: '×œ×¡×¨×‘' },
  { en: 'promise', he: '×œ×”×‘×˜×™×—' },
  { en: 'suggest', he: '×œ×”×¦×™×¢' },
  { en: 'order', he: '×œ×”×–××™×Ÿ' },
  { en: 'decide', he: '×œ×”×—×œ×™×˜' },
  { en: 'choose', he: '×œ×‘×—×•×¨' },
  { en: 'friendly', he: '×™×“×™×“×•×ª×™' },
  { en: 'unfriendly', he: '×œ× ×—×‘×¨×•×ª×™' },
  { en: 'honest', he: '×™×©×¨' },
  { en: 'dishonest', he: '×œ× ×™×©×¨' },
  { en: 'busy', he: '×¢×¡×•×§' },
  { en: 'lazy', he: '×¢×¦×œ×Ÿ' },
  { en: 'serious', he: '×¨×¦×™× ×™' },
  { en: 'funny', he: '××¦×—×™×§' },
  { en: 'helpful', he: '××•×¢×™×œ' },
  { en: 'useless', he: '×—×¡×¨ ×¢×¨×š' },
  { en: 'soft', he: '×¨×š' },
  { en: 'hard', he: '×§×©×”' },
  { en: 'wet', he: '×¨×˜×•×‘' },
  { en: 'dry', he: '×™×‘×©' },
  { en: 'idea', he: '×¨×¢×™×•×Ÿ' },
  { en: 'problem', he: '×‘×¢×™×”' },
  { en: 'solution', he: '×¤×ª×¨×•×Ÿ' },
  { en: 'opinion', he: '×“×¢×”' },
  { en: 'reason', he: '×¡×™×‘×”' },
  { en: 'result', he: '×ª×•×¦××”' },
  { en: 'difference', he: '×”×‘×“×œ' },
  { en: 'experience', he: '×—×•×•×™×”' },
  { en: 'success', he: '×”×¦×œ×—×”' },
  { en: 'failure', he: '×›×™×©×œ×•×Ÿ' },
  { en: 'mistake', he: '×˜×¢×•×ª' },
  { en: 'plan', he: '×ª×›× ×™×ª' },
  { en: 'goal', he: '××˜×¨×”' },
  { en: 'grow', he: '×œ×’×“×•×œ' },
  { en: 'change', he: '×œ×”×©×ª× ×•×ª' },
  { en: 'improve', he: '×œ×©×¤×¨' },
  { en: 'win', he: '×œ× ×¦×—' },
  { en: 'lose', he: '×œ×”×¤×¡×™×“' },
  { en: 'wait', he: '×œ×—×›×•×ª' },
  { en: 'worry', he: '×œ×“××•×’' },
  { en: 'hope', he: '×œ×§×•×•×ª' },
  { en: 'guess', he: '×œ× ×—×©' },
  { en: 'depend', he: '×œ×ª×œ×•×ª' },
  { en: 'include', he: '×œ×›×œ×•×œ' },
  { en: 'continue', he: '×œ×”××©×™×š' },
  { en: 'stop', he: '×œ×¢×¦×•×¨' },
  { en: 'finish', he: '×œ×¡×™×™×' },
  { en: 'first', he: '×¨××©×•×Ÿ' },
  { en: 'last', he: '××—×¨×•×Ÿ' },
  { en: 'together', he: '×‘×™×—×“' },
  { en: 'alone', he: '×œ×‘×“' },
  { en: 'year', he: '×©× ×”' },
  { en: 'month', he: '×—×•×“×©' },
  { en: 'week', he: '×©×‘×•×¢' },
  { en: 'day', he: '×™×•×' },
  { en: 'hour', he: '×©×¢×”' },
  { en: 'minute', he: '×“×§×”' },
  { en: 'second', he: '×©× ×™×”' },
  { en: 'our', he: '×©×œ× ×•' },
  { en: 'your', he: '×©×œ×š/×©×œ×›×' },
];
let wordPairs = [];
let customWords = [];
let score = 0;
let currentIndex = 0;
let correctAnswers = [];
let wrongAnswers = [];
let playerName = '';
let translationDirection = 'en2he';



document.getElementById('startBtn').onclick = function () {
  playerName = document.getElementById('playerName').value.trim() || '×”×©×—×§×Ÿ';
  translationDirection = document.getElementById('direction').value;
  const mode = document.querySelector('input[name="mode"]:checked').value;
  if (mode === 'custom' && customWords.length > 0) {
    wordPairs = [...customWords];
  } else {
    wordPairs = [...allWords].sort(() => 0.5 - Math.random()).slice(0, 10);
  }
  score = 0;
  currentIndex = 0;
  correctAnswers = [];
  wrongAnswers = [];
  document.getElementById('startScreen').style.display = 'none';
  document.getElementById('game').style.display = 'flex';
  nextQuestion();
};

function nextQuestion() {
  document.getElementById('result').textContent = '';
  if (currentIndex >= wordPairs.length) return endGame();
  const current = wordPairs[currentIndex];
  const question = translationDirection === 'en2he' ? current.en : current.he;
  const correct = translationDirection === 'en2he' ? current.he : current.en;
  document.getElementById('quizWord').textContent = question;
  const synth = window.speechSynthesis;
  if (translationDirection === 'en2he') {
    const utter = new SpeechSynthesisUtterance(question);
    utter.lang = 'en-US';
    synth.cancel();
    synth.speak(utter);
  }
  let options = [correct];
  while (options.length < 3) {
    const rand = wordPairs[Math.floor(Math.random() * wordPairs.length)];
    const distractor = translationDirection === 'en2he' ? rand.he : rand.en;
    if (!options.includes(distractor)) options.push(distractor);
  }
  options.sort(() => Math.random() - 0.5);
  const container = document.getElementById('options');
  container.innerHTML = '';
  options.forEach(option => {
    const btn = document.createElement('button');
    btn.textContent = option;
    btn.onclick = () => checkAnswer(btn, correct);
    container.appendChild(btn);
  });
  document.getElementById('progress').textContent = `${playerName}, ×©××œ×” ${currentIndex + 1} ××ª×•×š ${wordPairs.length}`;
}

function checkAnswer(button, correctAnswer) {
  const buttons = document.querySelectorAll('#options button');
  buttons.forEach(btn => btn.disabled = true);
  if (button.textContent === correctAnswer) {
    button.classList.add('correct');
    document.getElementById('sound-correct').play();
    score++;
    correctAnswers.push(wordPairs[currentIndex]);
    document.getElementById('result').textContent = `${playerName}, ×›×œ ×”×›×‘×•×“! ×¢× ×™×ª × ×›×•×Ÿ!`;
    if (translationDirection === 'he2en') {
      const utter = new SpeechSynthesisUtterance(correctAnswer);
      utter.lang = 'en-US';
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utter);
    }
  } else {
    button.classList.add('wrong');
    document.getElementById('sound-wrong').play();
    wrongAnswers.push(wordPairs[currentIndex]);
    document.getElementById('result').innerHTML = `${playerName}, ×œ× × ×›×•×Ÿ.<br>×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×: <strong>${correctAnswer}</strong>`;
    if (translationDirection === 'he2en') {
      const utter = new SpeechSynthesisUtterance(correctAnswer);
      utter.lang = 'en-US';
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utter);
    }
  }
  setTimeout(() => {
    currentIndex++;
    nextQuestion();
  }, 4000);
}

function endGame() {
  document.getElementById('game').style.display = 'none';
  let medal = '';
  if (score === wordPairs.length) document.getElementById('sound-very-happy').play(), medal = 'ğŸ¥‡';
  else if (score >= 8) document.getElementById('sound-happy').play(), medal = 'ğŸ¥ˆ';
  else if (score >= 5) medal = 'ğŸ¥‰';
  let html = `<h2>×”××©×—×§ ×”×¡×ª×™×™×</h2><p style='color:${score >= wordPairs.length * 0.7 ? "green" : "red"}'>${playerName}, ×”×¦×™×•×Ÿ ×©×œ×š: ${score} ××ª×•×š ${wordPairs.length} ${medal}</p>`;
  if (correctAnswers.length) {
    html += '<h3>××™×œ×™× ×©×¢× ×™×ª × ×›×•×Ÿ:</h3><ul>' + correctAnswers.map(w => `<li>${w.en} â€“ ${w.he}</li>`).join('') + '</ul>';
  }
  if (wrongAnswers.length) {
    html += '<h3>××™×œ×™× ×©×œ× ×¢× ×™×ª × ×›×•×Ÿ:</h3><ul>' + wrongAnswers.map(w => `<li>${w.en} â€“ ${w.he}</li>`).join('') + '</ul>';
  }
  html += `<br><a href='https://wa.me/?text=${playerName}%20×©×™×—×§%20×‘×—×™×“×•×Ÿ%20×ª×¨×’×•×%20×•×§×™×‘×œ%20${score}%20××ª×•×š%20${wordPairs.length}!' target='_blank' style='display:inline-block; margin-top:15px; font-size:1em; color:white; background:#25D366; padding:10px 20px; border-radius:8px; text-decoration:none;'>×©×ª×£ ×‘×•×•××˜×¡××¤</a>`;
  html += '<br><button onclick="location.reload()">××©×—×§ ×—×“×©</button>';
  if (wrongAnswers.length) html += '<button onclick="retryWrong()">× ×¡×” ×©×•×‘ ××ª ×”××™×œ×™× ×©×œ× ×™×“×¢×ª</button>';
  document.getElementById('endScreen').innerHTML = html;
  document.getElementById('endScreen').style.display = 'block';
}

function retryWrong() {
  wordPairs = wrongAnswers;
  currentIndex = 0;
  score = 0;
  correctAnswers = [];
  wrongAnswers = [];
  document.getElementById('endScreen').style.display = 'none';
  document.getElementById('game').style.display = 'flex';
  nextQuestion();
}

function generateCustomTable() {
  const count = parseInt(document.getElementById('customCount').value);
  const container = document.getElementById('customTable');
  container.innerHTML = '<table><tr><th>English</th><th>Hebrew</th></tr>';
  for (let i = 0; i < count; i++) {
    container.innerHTML += `<tr><td><input type='text' id='en${i}'></td><td><input type='text' id='he${i}'></td></tr>`;
  }
  container.innerHTML += `</table><br><button onclick='saveCustomWords()'>×©××•×¨</button>`;
}

function saveCustomWords() {
  const count = parseInt(document.getElementById('customCount').value);
  const name = document.getElementById('customSetName').value.trim();
  if (!name) return alert('×™×© ×œ×”×–×™×Ÿ ×©× ×œ×”×›×ª×‘×”.');
  customWords = [];
  for (let i = 0; i < count; i++) {
    const en = document.getElementById(`en${i}`).value.trim();
    const he = document.getElementById(`he${i}`).value.trim();
    if (en && he) customWords.push({ en, he });
  }
  if (customWords.length > 0) {
    localStorage.setItem('quizSet_' + name, JSON.stringify(customWords));
    updateSavedSets();
    alert('×”×©××œ×•×ª × ×©××¨×• ×‘×©×: ' + name);
  }
}

function updateSavedSets() {
  const select = document.getElementById('savedSets');
  select.innerHTML = '';
  for (let key in localStorage) {
    if (key.startsWith('quizSet_')) {
      const name = key.replace('quizSet_', '');
      const option = document.createElement('option');
      option.value = name;
      option.textContent = name;
      select.appendChild(option);
    }
  }
}

function loadSavedSet() {
  const name = document.getElementById('savedSets').value;
  const data = localStorage.getItem('quizSet_' + name);
  if (data) {
    customWords = JSON.parse(data);
    alert('×”×”×›×ª×‘×” × ×˜×¢× ×”: ' + name);
  }
}

function deleteSavedSet() {
  const name = document.getElementById('savedSets').value;
  if (!name) return;
  const confirmDelete = confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××ª ×”×”×›×ª×‘×” ×‘×©× ' + name + '?');
  if (confirmDelete) {
    localStorage.removeItem('quizSet_' + name);
    updateSavedSets();
    alert('×”×”×›×ª×‘×” × ××—×§×” ×‘×”×¦×œ×—×”.');
  }
}

document.querySelectorAll('input[name="mode"]').forEach(radio => {
  radio.addEventListener('change', function () {
    document.getElementById('customInput').style.display = this.value === 'custom' ? 'block' : 'none';
  });
});

window.addEventListener('DOMContentLoaded', updateSavedSets);
</script>
</body>
</html>
