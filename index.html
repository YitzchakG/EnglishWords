<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>English-Hebrew Word Quiz</title>
  <style>
    body {
      font-size: 1.4em;
      line-height: 1.6;
      background: linear-gradient(135deg, #e3f2fd, #bbdefb);
      direction: rtl;
      font-family: 'Assistant', sans-serif;
      font-family: 'Segoe UI', sans-serif;
      background: #eef5ff;
      text-align: center;
      padding: 30px;
    }
    .word {
      font-size: 2.5em;
      font-weight: bold;
      color: #0d47a1;
      font-size: 2em;
      margin: 20px;
    }
    .options button,
    #startScreen button,
    #endScreen button {
      margin: 10px;
      padding: 15px 30px;
      font-size: 1.5em;
      border: none;
      border-radius: 8px;
      background-color: #007BFF;
      color: white;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    .options button:hover,
    #startScreen button:hover,
    #endScreen button:hover {
      background-color: #0056b3;
    }
    .correct {
      background-color: #4CAF50 !important;
      color: white;
    }
    .wrong {
      background-color: #f44336 !important;
      color: white;
    }
    .correct {
    animation: pulse-green 0.6s ease;
  }

  .wrong {
    animation: shake-red 0.4s ease;
  }

  @keyframes pulse-green {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }

  @keyframes shake-red {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;600&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.json">
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('service-worker.js');
    });
  }
</script>
</head>
<body>
  <h1>English-Hebrew Quiz</h1>
  <div id="startScreen">
    <select id="direction">
      <option value="en2he">转 注专转</option>
      <option value="he2en">注专转 转</option>
    </select>
    <br><br>
    <button id="startBtn">转 砖拽</button>
  </div>

  <div id="game" style="display:none;">
    <div id="progress"></div>
    <div class="word" id="quizWord"></div>
    <div class="options" id="options"></div>
    <div id="result"></div>
  </div>

  <div id="endScreen" style="display:none;"></div>

  <audio id="sound-correct" src="https://cdn.pixabay.com/download/audio/2022/03/03/audio_54e10f6e5e.mp3?filename=correct-2-46134.mp3"></audio>
  <audio id="sound-wrong" src="https://cdn.pixabay.com/download/audio/2022/03/03/audio_2075820c01.mp3?filename=wrong-126515.mp3"></audio>

  <script>
   const allWords = [
  { en: 'I', he: '' },
  { en: 'you', he: '转/转' },
  { en: 'he', he: '' },
  { en: 'she', he: '' },
  { en: 'it', he: '/转' },
  { en: 'we', he: '' },
  { en: 'they', he: '/' },
  { en: 'me', he: '转' },
  { en: 'him', he: '转' },
  { en: 'her', he: '转' },
  { en: 'us', he: '转' },
  { en: 'them', he: '转/转' },
  { en: 'be', he: '转' },
  { en: 'have', he: '砖/' },
  { en: 'do', he: '注砖转' },
  { en: 'go', he: '转' },
  { en: 'come', he: '' },
  { en: 'see', he: '专转' },
  { en: 'look', he: '住转' },
  { en: 'say', he: '专' },
  { en: 'tell', he: '住驻专' },
  { en: 'ask', he: '砖' },
  { en: 'know', he: '注转' },
  { en: 'think', he: '砖' },
  { en: 'want', he: '专爪转' },
  { en: 'like', he: '' },
  { en: 'need', he: '爪专' },
  { en: 'work', he: '注' },
  { en: 'live', he: '转' },
  { en: 'give', he: '转转' },
  { en: 'take', he: '拽转' },
  { en: 'make', he: '注砖转' },
  { en: 'man', he: '砖' },
  { en: 'woman', he: '砖' },
  { en: 'boy', he: '' },
  { en: 'girl', he: '' },
  { en: 'people', he: '砖' },
  { en: 'friend', he: '专' },
  { en: 'mother', he: '' },
  { en: 'father', he: '' },
  { en: 'family', he: '砖驻' },
  { en: 'home', he: '转' },
  { en: 'house', he: '转' },
  { en: 'school', he: '转' },
  { en: 'teacher', he: '专' },
  { en: 'day', he: '' },
  { en: 'night', he: '' },
  { en: 'time', he: '' },
  { en: 'year', he: '砖' },
  { en: 'world', he: '注' },
  { en: 'big', he: '' },
  { en: 'small', he: '拽' },
  { en: 'good', he: '' },
  { en: 'bad', he: '专注' },
  { en: 'happy', he: '砖' },
  { en: 'sad', he: '注爪' },
  { en: 'hot', he: '' },
  { en: 'cold', he: '拽专' },
  { en: 'new', he: '砖' },
  { en: 'old', he: '砖' },
  { en: 'fast', he: '专' },
  { en: 'slow', he: '' },
  { en: 'young', he: '爪注专' },
  { en: 'old', he: '拽' },
  { en: 'one', he: '' },
  { en: 'two', he: '砖' },
  { en: 'three', he: '砖砖' },
  { en: 'four', he: '专注' },
  { en: 'five', he: '砖' },
  { en: 'six', he: '砖砖' },
  { en: 'seven', he: '砖注' },
  { en: 'eight', he: '砖' },
  { en: 'nine', he: '转砖注' },
  { en: 'ten', he: '注砖专' },
  { en: 'in', he: '' },
  { en: 'on', he: '注' },
  { en: 'at', he: '' },
  { en: 'to', he: '' },
  { en: 'from', he: '' },
  { en: 'with', he: '注' },
  { en: 'and', he: '' },
  { en: 'but', he: '' },
  { en: 'or', he: '' },
  { en: 'what', he: '' },
  { en: 'where', he: '驻' },
  { en: 'when', he: '转' },
  { en: 'who', he: '' },
  { en: 'why', he: '' },
  { en: 'how', he: '' },
  { en: 'eat', he: '' },
  { en: 'drink', he: '砖转转' },
  { en: 'sleep', he: '砖' },
  { en: 'walk', he: '转' },
  { en: 'run', he: '专抓' },
  { en: 'jump', he: '拽驻抓' },
  { en: 'play', he: '砖拽' },
  { en: 'read', he: '拽专' },
  { en: 'write', he: '转' },
  { en: 'listen', he: '拽砖' },
  { en: 'speak', he: '专' },
  { en: 'call', he: '拽专' },
  { en: 'help', he: '注专' },
  { en: 'learn', he: '' },
  { en: 'try', he: '住转' },
  { en: 'buy', he: '拽转' },
  { en: 'sell', he: '专' },
  { en: 'open', he: '驻转' },
  { en: 'close', he: '住专' },
  { en: 'start', he: '转' },
  { en: 'stop', he: '注爪专' },
  { en: 'water', he: '' },
  { en: 'food', he: '' },
  { en: 'bread', he: '' },
  { en: 'milk', he: '' },
  { en: 'apple', he: '转驻' },
  { en: 'book', he: '住驻专' },
  { en: 'pen', he: '注' },
  { en: 'paper', he: '专' },
  { en: 'table', he: '砖' },
  { en: 'chair', he: '住' },
  { en: 'door', he: '转' },
  { en: 'window', he: '' },
  { en: 'bed', he: '' },
  { en: 'car', he: '转' },
  { en: 'bus', he: '住' },
  { en: 'road', he: '砖' },
  { en: 'street', he: '专' },
  { en: 'park', he: '驻专拽' },
  { en: 'shop', he: '转' },
  { en: 'store', he: '转' },
  { en: 'baby', he: '转拽' },
  { en: 'child', he: '' },
  { en: 'doctor', he: '专驻' },
  { en: 'student', he: '住' },
  { en: 'worker', he: '注' },
  { en: 'school', he: '转' },
  { en: 'hospital', he: '转' },
  { en: 'bank', he: '拽' },
  { en: 'restaurant', he: '住注' },
  { en: 'airport', he: '砖' },
  { en: 'office', he: '砖专' },
  { en: 'city', he: '注专' },
  { en: 'village', he: '驻专' },
  { en: 'country', he: '' },
  { en: 'beach', he: '祝' },
  { en: 'easy', he: '拽' },
  { en: 'difficult', he: '专' },
  { en: 'hard', he: '拽砖' },
  { en: 'soft', he: '专' },
  { en: 'strong', he: '拽' },
  { en: 'weak', he: '砖' },
  { en: 'clean', he: '拽' },
  { en: 'dirty', he: '' },
  { en: 'tall', he: '' },
  { en: 'short', he: '拽爪专' },
  { en: 'full', he: '' },
  { en: 'empty', he: '专拽' },
  { en: 'rich', he: '注砖专' },
  { en: 'poor', he: '注' },
  { en: 'warm', he: '' },
  { en: 'cool', he: '拽专专' },
  { en: 'today', he: '' },
  { en: 'tomorrow', he: '专' },
  { en: 'yesterday', he: '转' },
  { en: 'morning', he: '拽专' },
  { en: 'afternoon', he: '专' },
  { en: 'evening', he: '注专' },
  { en: 'night', he: '' },
  { en: 'soon', he: '拽专' },
  { en: 'later', he: '专' },
  { en: 'now', he: '注砖' },
  { en: 'before', he: '驻' },
  { en: 'after', he: '专' },
  { en: 'tired', he: '注祝' },
  { en: 'hungry', he: '专注' },
  { en: 'thirsty', he: '爪' },
  { en: 'sick', he: '' },
  { en: 'fine', he: '住专' },
  { en: 'great', he: '专' },
  { en: 'beautiful', he: '驻' },
  { en: 'ugly', he: '注专' },
  { en: 'nice', he: '' },
  { en: 'angry', he: '注住' },
  { en: 'scared', he: '驻' },
  { en: 'excited', he: '专砖' },
  { en: 'bored', he: '砖注' },
  { en: 'phone', he: '驻' },
  { en: 'computer', he: '砖' },
  { en: 'television', he: '' },
  { en: 'key', he: '驻转' },
  { en: 'bag', he: '转拽' },
  { en: 'money', he: '住祝' },
  { en: 'coin', he: '注' },
  { en: 'gift', he: '转' },
  { en: 'card', he: '专住' },
  { en: 'letter', he: '转' },
  { en: 'picture', he: '转' },
  { en: 'mirror', he: '专' },
  { en: 'wall', he: '拽专' },
  { en: 'floor', he: '专爪驻' },
  { en: 'ceiling', he: '转拽专' },
  { en: 'clean', he: '拽转' },
  { en: 'wash', he: '砖祝' },
  { en: 'cook', he: '砖' },
  { en: 'drive', he: '' },
  { en: 'wait', he: '转' },
  { en: 'use', he: '砖转砖' },
  { en: 'find', he: '爪' },
  { en: 'lose', he: '' },
  { en: 'show', he: '专转' },
  { en: 'think', he: '砖' },
  { en: 'feel', he: '专砖' },
  { en: 'remember', he: '专' },
  { en: 'forget', he: '砖' },
  { en: 'believe', he: '' },
  { en: 'enjoy', he: '转' },
  { en: 'sing', he: '砖专' },
  { en: 'dance', he: '专拽' },
  { en: 'sit', he: '砖转' },
  { en: 'stand', he: '注' },
  { en: 'turn', he: '驻转' },
  { en: 'left', he: '砖' },
  { en: 'right', he: '' },
  { en: 'up', he: '注' },
  { en: 'down', he: '' },
  { en: 'inside', he: '驻' },
  { en: 'outside', he: '抓' },
  { en: 'front', he: '拽' },
  { en: 'back', he: '专' },
  { en: 'near', he: '拽专' },
  { en: 'far', he: '专拽' },
  { en: 'here', he: '' },
  { en: 'there', he: '砖' },
  { en: 'everywhere', he: ' 拽' },
  { en: 'nowhere', he: '砖 拽' },
  { en: 'corner', he: '驻' },
  { en: 'center', he: '专' },
  { en: 'sun', he: '砖砖' },
  { en: 'moon', he: '专' },
  { en: 'star', he: '' },
  { en: 'cloud', he: '注' },
  { en: 'rain', he: '砖' },
  { en: 'snow', he: '砖' },
  { en: 'wind', he: '专' },
  { en: 'sky', he: '砖' },
  { en: 'tree', he: '注抓' },
  { en: 'flower', he: '驻专' },
  { en: 'grass', he: '砖' },
  { en: 'river', he: '专' },
  { en: 'sea', he: '' },
  { en: 'mountain', he: '专' },
  { en: 'forest', he: '注专' },
  { en: 'expensive', he: '拽专' },
  { en: 'cheap', he: '' },
  { en: 'expensive', he: '拽专' },
  { en: 'cheap', he: '' },
  { en: 'important', he: '砖' },
  { en: 'interesting', he: '注' },
  { en: 'famous', he: '驻专住' },
  { en: 'necessary', he: '专' },
  { en: 'possible', he: '驻砖专' },
  { en: 'impossible', he: '转 驻砖专' },
  { en: 'dangerous', he: '住' },
  { en: 'safe', he: '' },
  { en: 'loud', he: '专注砖' },
  { en: 'quiet', he: '砖拽' },
  { en: 'lucky', he: '专 ' },
  { en: 'unlucky', he: '住专' },
  { en: 'head', he: '专砖' },
  { en: 'face', he: '驻' },
  { en: 'eyes', he: '注' },
  { en: 'nose', he: '祝' },
  { en: 'mouth', he: '驻' },
  { en: 'ears', he: '' },
  { en: 'hands', he: '' },
  { en: 'fingers', he: '爪注转' },
  { en: 'arms', he: '专注转' },
  { en: 'legs', he: '专' },
  { en: 'feet', he: '驻转' },
  { en: 'hair', he: '砖注专' },
  { en: 'heart', he: '' },
  { en: 'skin', he: '注专' },
  { en: 'stomach', he: '' },
  { en: 'train', he: '专转' },
  { en: 'airplane', he: '住' },
  { en: 'boat', he: '住专' },
  { en: 'farm', he: '' },
  { en: 'market', he: '砖拽' },
  { en: 'museum', he: '' },
  { en: 'hotel', he: '' },
  { en: 'bridge', he: '砖专' },
  { en: 'castle', he: '专' },
  { en: 'tower', he: '' },
  { en: 'library', he: '住驻专' },
  { en: 'theater', he: '转专' }, 
  { en: 'stadium', he: '爪' }, 
  { en: 'hello', he: '砖' },
  { en: 'goodbye', he: '转专转' }, 
  { en: 'please', he: '拽砖' },
  { en: 'thank you', he: '转' },
  { en: 'sorry', he: '住' },
  { en: 'yes', he: '' },
  { en: 'no', he: '' },
  { en: 'maybe', he: '' },
  { en: 'sure', he: '' },
  { en: 'of course', he: '' },
  { en: 'really', he: '转' },
  { en: 'probably', he: '专' },
  { en: 'answer', he: '注转' },
  { en: 'ask', he: '砖' },
  { en: 'borrow', he: '转' },
  { en: 'lend', he: '转' },
  { en: 'tell', he: '住驻专' },
  { en: 'explain', he: '住专' },
  { en: 'discuss', he: '' },
  { en: 'agree', he: '住' },
  { en: 'disagree', he: ' 住' },
  { en: 'invite', he: '' },
  { en: 'accept', he: '拽' },
  { en: 'refuse', he: '住专' },
  { en: 'promise', he: '' },
  { en: 'suggest', he: '爪注' },
  { en: 'order', he: '' },
  { en: 'decide', he: '' },
  { en: 'choose', he: '专' },
  { en: 'friendly', he: '转' },
  { en: 'unfriendly', he: ' 专转' },
  { en: 'honest', he: '砖专' },
  { en: 'dishonest', he: ' 砖专' },
  { en: 'busy', he: '注住拽' },
  { en: 'lazy', he: '注爪' },
  { en: 'serious', he: '专爪' },
  { en: 'funny', he: '爪拽' },
  { en: 'helpful', he: '注' },
  { en: 'useless', he: '住专 注专' },
  { en: 'soft', he: '专' },
  { en: 'hard', he: '拽砖' },
  { en: 'wet', he: '专' },
  { en: 'dry', he: '砖' },
  { en: 'idea', he: '专注' },
  { en: 'problem', he: '注' },
  { en: 'solution', he: '驻转专' },
  { en: 'opinion', he: '注' },
  { en: 'reason', he: '住' },
  { en: 'result', he: '转爪' },
  { en: 'difference', he: '' },
  { en: 'experience', he: '' },
  { en: 'success', he: '爪' },
  { en: 'failure', he: '砖' },
  { en: 'mistake', he: '注转' },
  { en: 'plan', he: '转转' },
  { en: 'goal', he: '专' },
  { en: 'grow', he: '' },
  { en: 'change', he: '砖转转' },
  { en: 'improve', he: '砖驻专' },
  { en: 'win', he: '爪' },
  { en: 'lose', he: '驻住' },
  { en: 'wait', he: '转' },
  { en: 'worry', he: '' },
  { en: 'hope', he: '拽转' },
  { en: 'guess', he: '砖' },
  { en: 'depend', he: '转转' },
  { en: 'include', he: '' },
  { en: 'continue', he: '砖' },
  { en: 'stop', he: '注爪专' },
  { en: 'finish', he: '住' },
  { en: 'first', he: '专砖' },
  { en: 'last', he: '专' },
  { en: 'together', he: '' },
  { en: 'alone', he: '' },
  { en: 'year', he: '砖' },
  { en: 'month', he: '砖' },
  { en: 'week', he: '砖注' },
  { en: 'day', he: '' },
  { en: 'hour', he: '砖注' },
  { en: 'minute', he: '拽' },
  { en: 'second', he: '砖' },
  { en: 'our', he: '砖' },
  { en: 'your', he: '砖/砖' },
];


    let wordPairs = [];
    let score = 0;
    let correctAnswers = [];
    let wrongAnswers = [];
    let currentQuestion = 0;
    let translationDirection = 'en2he';

    const correctSound = document.getElementById('sound-correct');
    const wrongSound = document.getElementById('sound-wrong');

    document.getElementById('startBtn').onclick = function startGame() {
      score = 0;
      correctAnswers = [];
      wrongAnswers = [];
      currentQuestion = 0;
      translationDirection = document.getElementById('direction').value;
      wordPairs = [...allWords].sort(() => 0.5 - Math.random()).slice(0, 10);
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('endScreen').style.display = 'none';
      document.getElementById('game').style.display = 'block';
      nextQuestion();
    };

    function nextQuestion() {
      const synth = window.speechSynthesis;
      if (currentQuestion >= wordPairs.length) {
        endGame();
        return;
      }
      const pair = wordPairs[currentQuestion];
      const question = translationDirection === 'en2he' ? pair.en : pair.he;
      const correct = translationDirection === 'en2he' ? pair.he : pair.en;

      document.getElementById('quizWord').textContent = question;
      if (translationDirection === 'en2he' && synth) {
        const utter = new SpeechSynthesisUtterance(question);
        utter.lang = 'en-US';
        synth.cancel();
        synth.speak(utter);
      }
      document.getElementById('result').textContent = '';
      document.getElementById('progress').textContent = `砖 ${currentQuestion + 1} 转 ${wordPairs.length}`;

      const options = [correct];
      while (options.length < 3) {
        const candidate = allWords[Math.floor(Math.random() * allWords.length)];
        const distractor = translationDirection === 'en2he' ? candidate.he : candidate.en;
        if (!options.includes(distractor) && distractor !== correct) {
          options.push(distractor);
        }
      }
      shuffle(options);

      const optionsDiv = document.getElementById('options');
      optionsDiv.innerHTML = '';
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(btn, correct);
        optionsDiv.appendChild(btn);
      });
    }

    function checkAnswer(button, correctAnswer) {
      const buttons = document.querySelectorAll('#options button');
      buttons.forEach(btn => {
  btn.disabled = true;
  if (btn.textContent === correctAnswer) {
    btn.classList.add('correct');
  } else if (btn === button) {
    btn.classList.add('wrong');
  }
});
      const pair = wordPairs[currentQuestion];
      const questionWord = translationDirection === 'en2he' ? pair.en : pair.he;
      const correctWord = translationDirection === 'en2he' ? pair.he : pair.en;

      if (button.textContent === correctAnswer) {
        score++;
        correctSound.play();
        correctAnswers.push({ q: questionWord, a: correctWord });
        document.getElementById('result').textContent = '!';
        if (translationDirection === 'he2en') {
          const synth = window.speechSynthesis;
          const utter = new SpeechSynthesisUtterance(correctAnswer);
          utter.lang = 'en-US';
          synth.cancel();
          synth.speak(utter);
        }
        setTimeout(() => {
          currentQuestion++;
          nextQuestion();
        }, 1500);
      } else {
        wrongSound.play();
        if (translationDirection === 'he2en') {
          const synth = window.speechSynthesis;
          const utter = new SpeechSynthesisUtterance(correctAnswer);
          utter.lang = 'en-US';
          synth.cancel();
          synth.speak(utter);
        }
        wrongAnswers.push({ q: questionWord, a: correctWord });
        document.getElementById('result').innerHTML = ` .<br>转砖  : <strong>${correctAnswer}</strong>`;
        setTimeout(() => {
          currentQuestion++;
          nextQuestion();
        }, 4000);
      }
    }

    function endGame() {
      const happySound = document.getElementById('sound-happy');
      const veryHappySound = document.getElementById('sound-very-happy');
      if (score === wordPairs.length && veryHappySound) {
        veryHappySound.play();
      } else if (score >= 8 && happySound) {
        happySound.play();
      }
      document.getElementById('game').style.display = 'none';
      let medal = '';
      if (score === 10) {
        medal = '';
      } else if (score >= 8) {
        medal = '';
      } else if (score >= 5) {
        medal = '';
      }
      let html = `<h2>砖拽 住转</h2><p style='color:${score >= wordPairs.length * 0.7 ? "green" : "red"}'>爪 砖: ${score} 转 ${wordPairs.length} ${medal}</p>`;
      html += '<h3> 砖注转:</h3><ul>' + correctAnswers.map(p => `<li>${p.q} - ${p.a}</li>`).join('') + '</ul>';
      html += '<h3> 砖 注转:</h3><ul>' + wrongAnswers.map(p => `<li>${p.q} - ${p.a}</li>`).join('') + '</ul>';
      html += '<button onclick="location.reload()">砖拽 砖</button>';
      html += '<button onclick="retryWrong()">住 砖 转  砖 注转</button>';
      html += `<br><a href='https://wa.me/?text=砖拽转%20%20转专%20拽转%20${score}%20转%20${wordPairs.length}!%20住%20%20转!' target='_blank' style='display:inline-block; margin-top:15px; font-size:1em; color:white; background:#25D366; padding:10px 20px; border-radius:8px; text-decoration:none;'>砖转祝 住驻</a>`;
document.getElementById('endScreen').innerHTML = html;
      document.getElementById('endScreen').style.display = 'block';
    }

    function retryWrong() {
      if (wrongAnswers.length === 0) {
        alert(' !   专.');
        return;
      }
      wordPairs = wrongAnswers.map(p => {
        return translationDirection === 'en2he'
          ? { en: p.q, he: p.a }
          : { en: p.a, he: p.q };
      });
      score = 0;
      correctAnswers = [];
      wrongAnswers = [];
      currentQuestion = 0;
      document.getElementById('endScreen').style.display = 'none';
      document.getElementById('game').style.display = 'block';
      nextQuestion();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  </script>
  <audio id="sound-happy" src="https://cdn.pixabay.com/download/audio/2022/02/28/audio_594ca25b24.mp3?filename=success-fanfare-trumpets-6185.mp3"></audio>
  <audio id="sound-very-happy" src="https://cdn.pixabay.com/download/audio/2022/03/03/audio_0317023917.mp3?filename=kids-cheering-01-121103.mp3"></audio>
</body>
</html>
